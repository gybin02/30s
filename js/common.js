var common={},$=function(e){return document.getElementById(e)},gameTime=30,initScore=0,body=document.getElementsByTagName("body")[0],cacheNum,cacheSetinterval;common.exam={question:["6 + 9 = ?","50 ÷ 5 = ?","3 × 9 = ?","81 - 9 = ?","19 + 7 = ?","36 ÷ 3 = ?","7 × 70 = ?","16 - 7 = ?","42 + 4 = ?","44 ÷ 2 = ?","78 × 3 = ?","89 - 12 = ?","51 + 23 = ?","72 ÷ 9 = ?","9 × 18 = ?","2 - 89 = ?"],answer:["15","10","27","72","26","12","490","9","46","22","234","77","74","8","162","-87"]},common.countBack=function(){-1!==gameTime&&(gameTime--,$("countBack").innerHTML=gameTime)},common.createGame=function(){var e=document.createElement("div");e.className="game-content",e.id="game-content",e.innerHTML='<div class="wrapCont" id="wrapCont"><p class="content" id="question">loading...</p></div><div class="keyboard" id="keyboard"><p class="kb-top"><span class="square" id="result-0">?</span></p><p class="kb-middle"><span class="square" id="result-1">?</span><span class="square" id="result-next">不会</span><span class="square" id="result-2">?</span></p><p class="kb-bottom"><span class="square" id="result-3">?</span></p></div><span class="count-back" id="countBack">30</span>',$("mainboard").appendChild(e),common.starGame()},common.starGame=function(){cacheSetinterval=setInterval(function(){return common.countBack(),0===gameTime?common.creatOverMask():void 0},1e3),common.setTopic();for(var e=$("keyboard").getElementsByTagName("span").length,t=0;e>t;t++)$("keyboard").getElementsByTagName("span")[t].onclick=function(){"不会"===this.innerHTML?common.setTopic():this.innerHTML===common.exam.answer[cacheNum]?common.showRight():common.showWrong()}},common.refreshGame=function(){$("refresh-game").onclick=function(){$("over-mask").parentNode.removeChild($("over-mask")),$("game-content").parentNode.removeChild($("game-content")),gameTime=30,initScore=0,common.createGame()}},common.creatOverMask=function(){clearInterval(cacheSetinterval);var e=this.level(initScore),t=document.createElement("div");t.className="over-mask",t.id="over-mask",t.innerHTML='<div class="mask-inner"><p class="title"><i class="iconfont icon-timeout">&#xe660;</i>时间到啦 :(</p><p class="score">您的得分是：<span class="red" id="final-score">'+initScore+'</span> 等级是：<span class="red" id="final-level">'+e+"</span></p>"+'<p class="desc"><a href="javascript:;" class="refresh" id="refresh-game"><i class="iconfont icon-refresh">&#xf0005;</i>再来一次</a></p>'+"</div>"+"</div>",body.appendChild(t),document.getElementsByTagName("title")[0].innerHTML="最强右脑—最终得分"+initScore+";级别是:"+e,common.refreshGame()},common.level=function(){return initScore>=25?"爱因斯坦":initScore>=20&&25>initScore?"天才":initScore>=15&&20>initScore?"靠近天才":initScore>=5&&15>initScore?"普通人":5>initScore?"脑瘫":void 0},common.showRight=function(){var e=document.createElement("div");e.setAttribute("class","iconfont full-alert alert-right"),e.innerHTML="&#xf006a;",e.id="full-alert",body.appendChild(e),common.setTopic(),setTimeout(function(){common.remove("full-alert")},600),initScore++},common.showWrong=function(){var e=document.createElement("div");e.setAttribute("class","iconfont full-alert alert-wrong"),e.innerHTML="&#xf00b3;",e.id="full-alert",body.appendChild(e),common.setTopic(),setTimeout(function(){common.remove("full-alert")},600)},common.remove=function(){$("full-alert").parentNode.removeChild($("full-alert"))},common.setTopic=function(){var e=common.exam.question.length,t=Math.floor(Math.random()*e),i=Math.floor(4*Math.random()),o=Math.floor(99*Math.random()),n=Math.floor(99*Math.random()),s=Math.floor(99*Math.random()),a=Math.floor(99*Math.random()),l=common.exam.question[t],r=common.exam.answer[t];return $("result-0").innerHTML=o,$("result-1").innerHTML=n,$("result-2").innerHTML=s,$("result-3").innerHTML=a,$("question").innerHTML=l,$("result-"+i).innerHTML=r,cacheNum=t},$("go-play").onclick=function(){common.createGame(),$("game-detial").parentNode.removeChild($("game-detial"))};